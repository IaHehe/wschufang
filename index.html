<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>网上厨房</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/index.css">
</head>
<body>
<!-- 顶部开始 -->
<div class="container">
    <div class="maskLayer">
        <!-- nav -->
        <div class="nav">
            <h1 class="nav_logo fl">
                <a href="javascript:;">网上厨房,做你的移动厨房专家</a>
            </h1>
            <div class="nav_login fr">
                <a href="#">登录</a>
                <a href="#">注册</a>
            </div>
        </div>
        <!-- 搜索框 -->
        <div class="search">
            <div class="search-bar">
                <div class="search-outer fl">
                    <div class="search-inner">
                        <i class="search-icon"></i>
                        <input type="text" placeholder="菜谱关键字" />
                    </div>
                </div>
                <div class="search-btn fl">
                    <a href="javascript:;">搜索</a>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- 顶部结束 -->
<!-- index-content 开始 -->
<div class="index-content clearfix">
    <!-- 版心 -->
    <div class="w">
        <!-- h3 logo -->
        <h3>
            <img src="images/logo_text.png" alt="">
        </h3>
        <!-- 主要内容 -->
        <div class="index-main">
            <!-- 轮播图 -->
            <div class="index-slider fl" id="index_slider">
                <div class="slider-inner">
                    <ul>
                        <li>
                            <a href="javascript:;">
                                <span>香菇牛肉粥—成品软糯香滑，还补铁， 暖心</span>
                                <img src="images/slider1.jpg" alt="">
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <span>劲脆特制炸鸡翅丨大嘴螺</span>
                                <img src="images/slider2.jpg" alt="">
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <span>鸡蛋灌饼~~美味早点自家做</span>
                                <img src="images/slider3.jpg" alt="">
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <span>抹茶麻薯软曲奇</span>
                                <img src="images/slider4.jpg" alt="">
                            </a>
                        </li>
                        <li>
                            <a href="javascript:;">
                                <span>芝士薯碗</span>
                                <img src="images/slider5.jpg" alt="">
                            </a>
                        </li>
                    </ul>
                </div>
                <!-- 轮播图小圆点 -->
                <div class="slider-nav">
                   <!-- <ol>
                        <li class="current"></li>
                        <li></li>
                        <li></li>
                        <li></li>
                        <li></li>
                    </ol>-->
                </div>
            </div>
            <!-- 轮播图右边区域 -->
            <div class="index-right-four fr">
                <ul>
                    <li>
                        <a href="javascript:;">
                            <img src="images/right-four1.jpg" alt="">
                            <span>视频菜谱</span>
                        </a>
                    </li>
                    <li>
                        <a href="javascript:;">
                            <img src="images/right-four2.jpg" alt="">
                            <span>入门家常</span>
                        </a>
                    </li>
                    <li class="special">
                        <a href="javascript:;">
                            <img src="images/right-four3.jpg" alt="">
                            <span>夏季时令菜</span>
                        </a>
                    </li>
                    <li class="special">
                        <a href="javascript:;">
                            <img src="images/right-four4.jpg" alt="">
                            <span>婴儿辅食</span>
                        </a>
                    </li>
                </ul>
            </div>
            <div class="index-bottom-five">
                <ul>
                    <li class="fore1">
                        <a href="javascript:;">
                            <img src="images/bottom-five1.jpg" alt="">
                            <span>素食主义</span>
                        </a>
                    </li>
                    <li class="fore2">
                        <a href="javascript:;">
                            <img src="images/bottom-five2.jpg" alt="">
                            <span>焖面</span>
                        </a>
                    </li>
                    <li class="fore3">
                        <a href="javascript:;">
                            <img src="images/bottom-five3.jpg" alt="">
                            <span>烘焙甜点</span>
                        </a>
                    </li>
                    <li class="fore4">
                        <a href="javascript:;">
                            <img src="images/bottom-five4.jpg" alt="">
                            <span>营养早餐</span>
                        </a>
                    </li>
                    <li class="fore5">
                        <a href="javascript:;">
                            <img src="images/bottom-five5.jpg" alt="">
                            <span>正式家宴</span>
                        </a>
                    </li>
                </ul>
            </div>
        </div>
    </div>
</div>
<!-- index-content end -->
<!-- footer start -->
<div class="footer">
    <div class="w">
        <!--footer 上半部分左边-->
        <div class="footer-left fl">
            <img src="images/logo_footer.png" alt="">
            <p><em>300,000</em>在线菜谱，<em>3，000,000</em>用户创建，每天都有新分享</p>
        </div>
        <!--footer 上半部分右边-->
        <div class="footer-right fr">
            <p>扫描二维码，下载网上厨房手机应用</p>
            <div class="footer-ad">
                <img src="images/logo_app.png" alt="">
                <img src="images/logo_weixin.png" alt="">
                <a href="javascript:;">
                    <img src="images/logo_sina.png" alt="">
                </a>
            </div>
        </div>
        <!--footer copyright 部分-->
        <div class="footer-copyright">
            <div class="bottom-links">
                <span><a href="javascript:;">关于我们</a>|</span>
                <span><a href="javascript:;">人才招聘</a>|</span>
                <span><a href="javascript:;">用户协议</a>|</span>
                <span><a href="javascript:;">免责声明</a>|</span>
                <span><a href="javascript:;">意见反馈</a>|</span>
                <span><a href="javascript:;">友情链接</a></span>
            </div>
            <div class="bottom-coypright">
                <p>
                    @2016(eCook.cn), All Rights
                    Reserved.浙ICP备11040661号
                    <a href="javascript:;"> .浙公网安备33010602002117号</a>
                </p>
            </div>
        </div>
    </div>
</div>
<!-- footer end -->
<script>
    function $(id) {return document.getElementById(id);}
    // 获取轮播图节点元素
    var boxOfIndexSlider = $("index_slider");

    // 获取轮播图中<div class="slider-inner"> 这个盒子, 通过改变其 left 值实现滚动动画
    var indexSliderInner = boxOfIndexSlider.children[0];
    //   》 获取 slider-inner盒子中的 ul 节点
    var ulOfIndexSlider = indexSliderInner.children[0];
    // 深层克隆一个 ul 节点并添加到indexSliderInner 节点上，实现无缝滚动
    indexSliderInner.appendChild(ulOfIndexSlider.cloneNode(true));

    // 获取轮播图包含小圆点的盒子（即<div class="slider-nav"></div>这个盒子）
    var indexSliderNav = boxOfIndexSlider.children[1];

    // 缓动动画的全局变量
    var leader = 0, target = 0;

    /* 函数：创建 sliderNav 盒子 下面的 ol 节点*/
    function createOlOfSliderNav() {
        // 获取轮播图 slider-inner 盒子下 ul 中 li 的所有节点
        var liArrOfSliderInner = boxOfIndexSlider.children[0].children[0].children;
        // 新建一个 ol 节点
        var newOlNode = document.createElement("ol");
        // 将新建的 ol 节点添加到 indexSliderNav 节点下
        indexSliderNav.appendChild(newOlNode);
        for(var i = 0, len = liArrOfSliderInner.length; i < len; i ++ ) {
            var liOfOlNode = document.createElement("li");
            i == 0 ? liOfOlNode.setAttribute("class","current") : liOfOlNode;
            newOlNode.appendChild(liOfOlNode);
        }
    }
    // 调用createOlOfSliderNav() 函数
    createOlOfSliderNav(); //必须先调用createOlOfSliderNav，否则后面的代码无法执行

    /* 焦点图：当鼠标移动到小圆点上时，显示响应的图片*/
    // 获取小圆点ol节点中 li 的所有节点，得到一个伪数组
    function liOfSliderNavOnMouseover() {
        var liArrOfSliderNav = indexSliderNav.children[0].children;
        for(var i = 0, len = liArrOfSliderNav.length; i < len; i ++) {
            liArrOfSliderNav[i].index = i;
            liArrOfSliderNav[i].onmouseover = function () {
                for(var j = 0; j < len; j ++) {
                    liArrOfSliderNav[j].className = "";
                    //liArrOfSliderNav[j].removeAttribute("class");
                }
                this.className = "current";
                //this.setAttribute("class","current");
                // 当鼠标移动到某一个小圆点上时，清楚自动播放的定时器
                clearInterval(sliderAutoTimer);
                target = -this.index * 498;
            };
            liArrOfSliderNav[i].onmouseout = function () {
                sliderAutoTimer = setInterval(indexSliderAutoPlay,2000);
            }
        }
    }
    // 调用 liOfSliderNavOnMouseover()函数
    liOfSliderNavOnMouseover();

    // 缓动动画，当鼠标移动到小圆点上时，显示小圆点对应的图片
    setInterval(function(){
        leader = leader + (target - leader) / 10; //缓动公式
        indexSliderInner.style.left = leader + "px"; //改变 ul 的left值，实现动画效果
    },10);

    /* 函数：轮播图自动滚动*/
    var sliderAutoTimer = setInterval(indexSliderAutoPlay,2000);
    function indexSliderAutoPlay() {
        target == -2490 ? target = 0 : target -= 498;
        var liArrOfSliderNav = indexSliderNav.children[0].children;
        var currentShowNumber = -(target / 498);
        for(var i = 0, len = liArrOfSliderNav.length; i < len; i ++) {
            liArrOfSliderNav[i].className = "";
        }
        liArrOfSliderNav[currentShowNumber].className = "current";
    }
</script>
</body>
</html>